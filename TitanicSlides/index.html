<!DOCTYPE html>
<html>
<head>
  <title>Titanic Passenger Survival</title>
  <meta charset="utf-8">
  <meta name="description" content="Titanic Passenger Survival">
  <meta name="author" content="Antonio Skilton">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Titanic Passenger Survival</h1>
    <h2>Using data cleaning, random forests, and logistic regression to predict passenger survival on the RMS Titanic</h2>
    <p>Antonio Skilton<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>training_data Data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>## &#39;data.frame&#39;:    891 obs. of  12 variables:
##  $ PassengerId: int  1 2 3 4 5 6 7 8 9 10 ...
##  $ Survived   : int  0 1 1 1 0 0 0 0 1 1 ...
##  $ Pclass     : int  3 1 3 1 3 3 1 3 3 2 ...
##  $ Name       : Factor w/ 891 levels &quot;Abbing, Mr. Anthony&quot;,..: 109 191 358 277 16 559 520 629 417 581 ...
##  $ Sex        : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 1 1 1 2 2 2 2 1 1 ...
##  $ Age        : num  22 38 26 35 35 NA 54 2 27 14 ...
##  $ SibSp      : int  1 1 0 1 0 0 0 3 0 1 ...
##  $ Parch      : int  0 0 0 0 0 0 0 1 2 0 ...
##  $ Ticket     : Factor w/ 681 levels &quot;110152&quot;,&quot;110413&quot;,..: 524 597 670 50 473 276 86 396 345 133 ...
##  $ Fare       : num  7.25 71.28 7.92 53.1 8.05 ...
##  $ Cabin      : Factor w/ 148 levels &quot;&quot;,&quot;A10&quot;,&quot;A14&quot;,..: 1 83 1 57 1 1 131 1 1 1 ...
##  $ Embarked   : Factor w/ 4 levels &quot;&quot;,&quot;C&quot;,&quot;Q&quot;,&quot;S&quot;: 4 2 4 4 4 3 4 4 4 2 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3"></p>

<pre><code>## 
##  Variables sorted by number of missings: 
##     Variable     Count
##        Cabin 0.7710438
##          Age 0.1986532
##  PassengerId 0.0000000
##     Survived 0.0000000
##       Pclass 0.0000000
##         Name 0.0000000
##          Sex 0.0000000
##        SibSp 0.0000000
##        Parch 0.0000000
##       Ticket 0.0000000
##         Fare 0.0000000
##     Embarked 0.0000000
</code></pre>

<p><img src="assets/fig/unnamed-chunk-3-2.png" alt="plot of chunk unnamed-chunk-3"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Name/Title</h2>
  </hgroup>
  <article data-timings="">
    <h4>The names all have some title associated with them:</h4>

<pre><code class="r">training_data$Name[1:9]
</code></pre>

<pre><code>## [1] Braund, Mr. Owen Harris                            
## [2] Cumings, Mrs. John Bradley (Florence Briggs Thayer)
## [3] Heikkinen, Miss. Laina                             
## [4] Futrelle, Mrs. Jacques Heath (Lily May Peel)       
## [5] Allen, Mr. William Henry                           
## [6] Moran, Mr. James                                   
## [7] McCarthy, Mr. Timothy J                            
## [8] Palsson, Master. Gosta Leonard                     
## [9] Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)  
## 891 Levels: Abbing, Mr. Anthony ... Zimmerman, Mr. Leo
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Name/Title</h2>
  </hgroup>
  <article data-timings="">
    <h4>For most passengers we can produce a category related to title:</h4>

<pre><code class="r">training_data$title &lt;- NA
attach(training_data)


for(string in c(&quot;master&quot;,&quot;mr&quot;,&quot;miss&quot;,&quot;mrs&quot;)) {
  training_data$title[grepl(string,Name,ignore.case=T)] &lt;- string 
}
detach(training_data)
</code></pre>

<h4>And we assume that all with alternate titles are adults and assign them titles based on sex</h4>

<pre><code class="r">attach(training_data)
training_data$title[is.na(title)]&lt;-ifelse(Sex[is.na(title)]==&quot;female&quot;,&quot;mrs&quot;,&quot;mr&quot;)
detach(training_data)
</code></pre>

<pre><code>## Error in detach(training_data): invalid &#39;name&#39; argument
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Name/Title</h2>
  </hgroup>
  <article data-timings="">
    <h4>Which gives us the following result:</h4>

<pre><code class="r">training_data[1:9,c(&quot;Name&quot;,&quot;title&quot;)]
</code></pre>

<pre><code>##                                                  Name  title
## 1                             Braund, Mr. Owen Harris     mr
## 2 Cumings, Mrs. John Bradley (Florence Briggs Thayer)    mrs
## 3                              Heikkinen, Miss. Laina   miss
## 4        Futrelle, Mrs. Jacques Heath (Lily May Peel)    mrs
## 5                            Allen, Mr. William Henry     mr
## 6                                    Moran, Mr. James     mr
## 7                             McCarthy, Mr. Timothy J     mr
## 8                      Palsson, Master. Gosta Leonard master
## 9   Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)    mrs
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Name/Title</h2>
  </hgroup>
  <article data-timings="">
    <h4>Is there a pattern our models could use to predict survival?</h4>

<pre><code>##               
## survived_label master miss  mr mrs
##       died         17   54 451  27
##       survived     23  126  86 107
</code></pre>

<!-- ColumnChart generated in R 3.3.1 by googleVis 0.6.1 package -->

<!-- Mon Sep 12 10:00:26 2016 -->

<!-- jsHeader -->

<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartIDa936696a57bf () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"master",
0.575,
true
],
[
"miss",
0.7,
false
],
[
"mr",
0.1601489758,
true
],
[
"mrs",
0.7985074627,
false
] 
];
data.addColumn('string','title');
data.addColumn('number','prcnt');
data.addColumn({type: 'boolean', role: 'certainty'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartIDa936696a57bf() {
var data = gvisDataColumnChartIDa936696a57bf();
var options = {};
options["allowHtml"] = true;
options["legend"] = "none";
options["title"] = "In-Group Survival Rate by Title";

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartIDa936696a57bf')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartIDa936696a57bf);
})();
function displayChartColumnChartIDa936696a57bf() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
 

<!-- jsChart -->  

<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartIDa936696a57bf"></script>
 

<!-- divChart -->

<div id="ColumnChartIDa936696a57bf" 
  style="width: 500; height: automatic;">
</div>

<h6>Clearly, adult men are fare less likely than either adult women or children of either gender to have survived the Titanic.</h6>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Ticket</h2>
  </hgroup>
  <article data-timings="">
    <h4>We have a similar text issue with ticket number ...</h4>

<pre><code class="r">training_data$Ticket[1:40]
</code></pre>

<pre><code>##  [1] A/5 21171        PC 17599         STON/O2. 3101282 113803          
##  [5] 373450           330877           17463            349909          
##  [9] 347742           237736           PP 9549          113783          
## [13] A/5. 2151        347082           350406           248706          
## [17] 382652           244373           345763           2649            
## [21] 239865           248698           330923           113788          
## [25] 349909           347077           2631             19950           
## [29] 330959           349216           PC 17601         PC 17569        
## [33] 335677           C.A. 24579       PC 17604         113789          
## [37] 2677             A./5. 2152       345764           2651            
## 681 Levels: 110152 110413 110465 110564 110813 111240 111320 ... WE/P 5735
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Ticket Number</h2>
  </hgroup>
  <article data-timings="">
    <h4>... which we can solve with the gsub function:</h4>

<pre><code class="r">attach(training_data)
training_data$Ticket_numeric &lt;- as.numeric(gsub(&quot;[^0-9]&quot;,&quot;&quot;,Ticket))
</code></pre>

<pre><code class="r">training_data[1:9,c(&quot;Ticket&quot;,&quot;Ticket_numeric&quot;)]
</code></pre>

<pre><code>##             Ticket Ticket_numeric
## 1        A/5 21171         521171
## 2         PC 17599          17599
## 3 STON/O2. 3101282       23101282
## 4           113803         113803
## 5           373450         373450
## 6           330877         330877
## 7            17463          17463
## 8           349909         349909
## 9           347742         347742
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Ticket Number</h2>
  </hgroup>
  <article data-timings="">
    <h4>To find patterns in the assignment of ticket numbers, we plot a histogram</h4>

<p><img src="assets/fig/unnamed-chunk-16-1.png" alt="plot of chunk unnamed-chunk-16"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-17-1.png" title="plot of chunk unnamed-chunk-17" alt="plot of chunk unnamed-chunk-17" style="display: block; margin: auto;" /></p>

<pre><code>##               
## survived_label highTicketNumber lowTicketNumber
##       died                  222             290
##       survived               57             272
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <article data-timings="">
    <pre><code>## Error: found duplicated column name: Ticket_grouphighTicketNumber, Ticket_grouplowTicketNumber
</code></pre>

<p><img src="assets/fig/unnamed-chunk-18-1.png" title="plot of chunk unnamed-chunk-18" alt="plot of chunk unnamed-chunk-18" style="display: block; margin: auto;" /></p>

<pre><code>##               
## survived_label highTicketNumber lowTicketNumber
##       died                  222             290
##       survived               57             272
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <article data-timings="">
    <pre><code>## Error: found duplicated column name: Ticket_grouphighTicketNumber, Ticket_grouplowTicketNumber, Ticket_grouphighTicketNumber, Ticket_grouplowTicketNumber
</code></pre>

<p><img src="assets/fig/unnamed-chunk-19-1.png" title="plot of chunk unnamed-chunk-19" alt="plot of chunk unnamed-chunk-19" style="display: block; margin: auto;" /></p>

<pre><code>##               
## survived_label highTicketNumber lowTicketNumber
##       died                  222             290
##       survived               57             272
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='training_data Data'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='NA'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Name/Title'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Name/Title'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Name/Title'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Name/Title'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Ticket'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Ticket Number'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Ticket Number'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='NA'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='NA'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='NA'>
         12
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>